<div class="cart-page">
	<div class="container py-5">
		<h1 class="cart-title">Shopping Cart</h1>

		<div class="row" *ngIf="cartItems.length > 0; else emptyCart">
			<div class="col-lg-8">
				<div class="cart-items">
					<div
						class="cart-item"
						*ngFor="let item of cartItems"
						@fadeSlide>
						<div class="item-image">
							<img [src]="item.ImageURL" [alt]="item.name" />
						</div>
						<div class="item-details">
							<h3>{{ item.Name }}</h3>
							<p class="item-meta">{{ item.Description }}</p>
							<div class="item-price">{{ item.Price | vnd }}</div>
						</div>
						<div class="item-quantity">
							<button
								class="qty-btn"
								(click)="
									updateQuantity(item, item.quantity - 1)
								">
								<i class="fas fa-minus"></i>
							</button>
							<span class="quantity">{{ item.quantity }}</span>
							<button
								class="qty-btn"
								(click)="
									updateQuantity(item, item.quantity + 1)
								">
								<i class="fas fa-plus"></i>
							</button>
						</div>
						<div class="item-total">
							{{ item.Price * item.quantity | vnd }}
						</div>
						<button class="remove-btn" (click)="removeItem(item)">
							<i class="fas fa-times"></i>
						</button>
					</div>
				</div>
			</div>

			<div class="col-lg-4">
				<div class="cart-summary" @fadeIn>
					<h2>Order Summary</h2>
					<div class="summary-item">
						<span>Subtotal</span>
						<span>{{ getSubtotal() | vnd }}</span>
					</div>
					<div class="summary-item">
						<span>Shipping</span>
						<span>{{ shippingCost | vnd }}</span>
					</div>
					<div class="summary-total">
						<span>Total</span>
						<span>{{ getTotal() | vnd }}</span>
					</div>
					<button class="checkout-btn" (click)="checkout()">
						Proceed to Checkout
					</button>
					<button class="continue-shopping" routerLink="/">
						Continue Shopping
					</button>
				</div>
			</div>
		</div>

		<ng-template #emptyCart>
			<div class="empty-cart" @fadeIn>
				<!-- <img src="assets/images/empty-cart.svg" alt="Empty Cart" /> -->
				<h2>Your cart is empty</h2>
				<p>Looks like you haven't added anything to your cart yet.</p>
				<button class="continue-shopping" routerLink="/">
					Start Shopping
				</button>
			</div>
			3
		</ng-template>
	</div>
</div>
