<div class="auth-container">
	<div class="auth-box">
		<h2>Create Account</h2>
		<p class="subtitle">Join our keyboard community</p>

		<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
			<div class="form-group">
				<label for="username">Username</label>
				<input
					type="text"
					id="username"
					formControlName="username"
					class="form-control"
					[class.is-invalid]="
						username?.invalid && username?.touched
					" />
				<div
					class="invalid-feedback"
					*ngIf="username?.invalid && username?.touched">
					<span *ngIf="username?.errors?.['required']"
						>Username is required</span
					>
					<span *ngIf="username?.errors?.['minlength']"
						>Username must be at least 3 characters</span
					>
				</div>
			</div>

			<div class="form-group">
				<label for="email">Email</label>
				<input
					type="email"
					id="email"
					formControlName="email"
					class="form-control"
					[class.is-invalid]="email?.invalid && email?.touched" />
				<div
					class="invalid-feedback"
					*ngIf="email?.invalid && email?.touched">
					<span *ngIf="email?.errors?.['required']"
						>Email is required</span
					>
					<span *ngIf="email?.errors?.['email']"
						>Please enter a valid email</span
					>
				</div>
			</div>

			<div class="form-group">
				<label for="password">Password</label>
				<input
					type="password"
					id="password"
					formControlName="password"
					class="form-control"
					[class.is-invalid]="
						password?.invalid && password?.touched
					" />
				<div
					class="invalid-feedback"
					*ngIf="password?.invalid && password?.touched">
					<span *ngIf="password?.errors?.['required']"
						>Password is required</span
					>
					<span *ngIf="password?.errors?.['minlength']"
						>Password must be at least 6 characters</span
					>
				</div>
			</div>

			<div class="form-group">
				<label for="confirmPassword">Confirm Password</label>
				<input
					type="password"
					id="confirmPassword"
					formControlName="confirmPassword"
					class="form-control"
					[class.is-invalid]="
						confirmPassword?.invalid && confirmPassword?.touched
					" />
				<div
					class="invalid-feedback"
					*ngIf="
						confirmPassword?.invalid && confirmPassword?.touched
					">
					<span *ngIf="confirmPassword?.errors?.['required']"
						>Please confirm your password</span
					>
					<span *ngIf="confirmPassword?.errors?.['passwordMismatch']"
						>Passwords do not match</span
					>
				</div>
			</div>

			<div class="form-check mb-3">
				<input
					type="checkbox"
					class="form-check-input"
					id="terms"
					formControlName="terms"
					[class.is-invalid]="terms?.invalid && terms?.touched" />
				<label class="form-check-label" for="terms">
					I agree to the
					<a href="/terms" target="_blank">Terms & Conditions</a>
				</label>
				<div
					class="invalid-feedback"
					*ngIf="terms?.invalid && terms?.touched">
					You must agree to the terms and conditions
				</div>
			</div>

			<button
				type="submit"
				class="btn btn-primary w-100"
				[disabled]="registerForm.invalid || isLoading">
				<span *ngIf="!isLoading">Register</span>
				<span
					*ngIf="isLoading"
					class="spinner-border spinner-border-sm"
					role="status"></span>
			</button>
		</form>

		<div class="auth-footer">
			<p>Already have an account? <a routerLink="/login">Login</a></p>
		</div>
	</div>
</div>
